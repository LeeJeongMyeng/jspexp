<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="/a00_com/a01_common.css" rel="stylesheet">
<style type="text/css">
/*

*/

</style>
<script>

</script>
</head>
<body>
	<h2>계산기</h2>
	<table id="tab01" width="50%" height="70%">
		<col width="25%"><col width="25%"><col width="25%"><col width="25%">
		<tr ><td style="text-align:right; height:20%;" colspan="4" >0</td></tr>
		<tr>
			<td>7</td>
			<td>8</td>
			<td>9</td>
			<td>+</td>
		</tr>
		<tr>
			<td>4</td>
			<td>5</td>
			<td>6</td>
			<td>-</td>
		</tr>
		<tr>
			<td>1</td>
			<td>2</td>
			<td>3</td>
			<td>*</td>
		</tr>
		<tr>
			<td>C</td>
			<td>0</td>
			<td>=</td>
			<td>/</td>
		</tr>
		</table>
	<div id="container"></div>


</body>
<script type="text/javascript">

	var tds =document.querySelectorAll("#tab01 td"); //tab01하위 td값을 가져옴
	//출력할 td
	
	for(var idx=0; idx<tds.length;idx++){
		tds[idx].onclick=function(){
			//클릭한 현재 문자열을 출력
			//alert(this.innerText)
			//초기출력  0을 지워주고 입력시작
			if(tds[0].innerText=='0') tds[0].innerText=""
			// 클릭한 놈의 text가 =이면 입력된 문자열을 eval로 계산해라.
			if(this.innerText=='=') {
				tds[0].innerText=eval(tds[0].innerText)
			}else{
				// 이외라면 tds[0]에 문자열을 계속더해라
				// this.innerText : td중에 이벤트가 일어난 객체를 지정
				tds[0].innerText+=this.innerText 
				// 만약 클릭한 놈의text가 C라면 초기화해라
				if(this.innerText=='C'){tds[0].innerText='0'}
			}
			
		}
	}


/*
  #eval 함수를 통한 계산기 만들기
  	1. 계산기 형태의 화면 구성하기: table
  		3x4
  	2. 각 항목별로 클릭시, 전달된 이벤트 핸들러 함수 설정
  	3. 이벤트 핸들러 함수
  		1) 매개변수를 통해 클릭한 문자열 전달
  		2) 계산식을 출력한 내용 상단 cell에 출력(문자열 누적)
  		3) 계산식 버튼(cell) 중 =클릭시, eval함수를 결과값 출력처리
 */
var div = document.body.querySelector("#container")
div.innerHTML=""
// 
</script>
</html>